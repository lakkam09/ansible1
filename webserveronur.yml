---
-hosts: all
 become: yes
 tasks: 
 - name: install webserver on ubuntu
   apt:
    name: apache2
    state: present
   when: ansible_os_family=="debian"
   service:
    name: apache2
    state: started
   when: ansible_os_family=="debian"

 - name: install webserver on redhat
   yum: 
    name: apache2
    state: present
   when: ansible_os_family=="RedHat" 
   service:
    name: apache2
    state: started
   when: ansible_os_family=="RedHat"